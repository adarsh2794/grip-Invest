{"ast":null,"code":"var _jsxFileName = \"/home/adarsh/Desktop/Companies/crm/src/components/client/client.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, Paper, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core';\nimport ChipsArray from '../search/chipSearch';\nimport { Multiselect } from \"multiselect-react-dropdown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: '#cfd8dc',\n    color: '#263238',\n    fontSize: 18\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover\n    }\n  }\n}))(TableRow);\n\nfunction createData(surname, name, country, firstContact, email, sold, owner, asset_type) {\n  return {\n    surname,\n    name,\n    country,\n    firstContact,\n    email,\n    sold,\n    owner,\n    asset_type\n  };\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  }\n});\n/**\n * This client function is exposed and routed from \"/\" in App.js\n * Functions\n * 1.Injects CRMStores where we have the list of \"actions\",\"observers\",\"actions\"\n * 2.It calls React Hooks\n *  a.useState which will set input as the passed state and setInput = function to update the state\n * \n */\n\nconst Clients = inject(\"CRMStores\")(observer(_s(props => {\n  var _props$CRMStores, _props$CRMStores2, _props$CRMStores3, _props$CRMStores4;\n\n  _s();\n\n  //Sets the relevant clients in the state and then updates the state by calling setRelevantClients\n  const [relevantClients, setRelevantClients] = useState([...((_props$CRMStores = props.CRMStores) === null || _props$CRMStores === void 0 ? void 0 : _props$CRMStores.clients)]);\n  const [searchAssets, setSearchAssets] = useState([...((_props$CRMStores2 = props.CRMStores) === null || _props$CRMStores2 === void 0 ? void 0 : _props$CRMStores2.searchAssets)]); // const [searchOwners, setSearchOwners] = useState([...props.CRMStores?.searchOwners])\n  // const [owners, setOwners] = useState([...props.CRMStores?.owners])\n\n  const [asset_type, setAssetType] = useState([...((_props$CRMStores3 = props.CRMStores) === null || _props$CRMStores3 === void 0 ? void 0 : _props$CRMStores3.assetType)]);\n  const [searchParamters, setSearchOwners] = useState([...((_props$CRMStores4 = props.CRMStores) === null || _props$CRMStores4 === void 0 ? void 0 : _props$CRMStores4.searchParamters)]);\n  searchParamters;\n  const [input, setInput] = useState('');\n  const [selected, setSelected] = useState([]);\n  /**\n   * Use effect is called when render is completed and we want to update anything after that\n   */\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await props.CRMStores.getClients();\n      setRelevantClients(props.CRMStores.clients);\n      console.log(relevantClients);\n    };\n\n    fetchData();\n  }, []);\n  /**\n   * We can pass in a function in order to clear things when effect has completed\n   */\n\n  useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return c.last.toLowerCase().includes(input.toLowerCase());\n    });\n    setRelevantClients(tempList);\n  }, [input.length]);\n  /**\n   * Filter client list according to selection\n   */\n\n  useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return searchAssets.includes(c.asset_type);\n    });\n    setRelevantClients(tempList);\n  }, [searchAssets.length]);\n  useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return c.last.toLowerCase().includes(input.toLowerCase());\n    });\n    setRelevantClients(tempList);\n  }, [selected.length]);\n\n  const handleChange = event => {\n    setInput(event.target.value);\n  };\n\n  const rows = relevantClients && relevantClients.map(c => {\n    return createData(c.last, c.first, c.country_name, c.date, c.email, c.sold, c.owner, c.asset_type);\n  });\n\n  function onSelectOrRemove(selectedList, selectedItem) {\n    console.log(\"Selected item is\", selectedItem);\n\n    if (selectedList.length == 0) {\n      setRelevantClients(props.CRMStores.clients);\n    } else {\n      let tempList = props.CRMStores.clients.filter(c => {\n        return selectedList.includes(c.asset_type);\n      });\n      setRelevantClients(tempList);\n    }\n  }\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Multiselect, {\n      options: asset_type,\n      isObject: false,\n      value: selected,\n      onSelect: onSelectOrRemove // Function will trigger on select event\n      ,\n      onRemove: onSelectOrRemove // onChange={setSelected}\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        \"aria-label\": \"customized table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Client Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Client Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Asset Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Mediator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Owner Company\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Purchase Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"Sold Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: rows.length && rows.map(row => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n            children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: [row.surname, \" \", row.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: row.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: row.country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: row.asset_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"GRIP INVEST\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: row.owner\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: row.firstContact\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n              align: \"center\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}, \"Fwo18ezw9O0Mm/mPYRJ2Y+9IMHY=\", false, function () {\n  return [useStyles];\n})));\nexport default Clients;","map":{"version":3,"sources":["/home/adarsh/Desktop/Companies/crm/src/components/client/client.js"],"names":["React","useState","useEffect","inject","observer","withStyles","makeStyles","Table","Paper","TableBody","TableCell","TableContainer","TableHead","TableRow","ChipsArray","Multiselect","StyledTableCell","theme","head","backgroundColor","color","fontSize","body","StyledTableRow","root","palette","action","hover","createData","surname","name","country","firstContact","email","sold","owner","asset_type","useStyles","table","minWidth","Clients","props","relevantClients","setRelevantClients","CRMStores","clients","searchAssets","setSearchAssets","setAssetType","assetType","searchParamters","setSearchOwners","input","setInput","selected","setSelected","fetchData","getClients","console","log","tempList","filter","c","last","toLowerCase","includes","length","handleChange","event","target","value","rows","map","first","country_name","date","onSelectOrRemove","selectedList","selectedItem","classes","row"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { inject, observer } from 'mobx-react'\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, Paper, TableBody, TableCell, TableContainer, TableHead, TableRow } from '@material-ui/core'\nimport ChipsArray from '../search/chipSearch';\nimport { Multiselect } from \"multiselect-react-dropdown\";\n\n\nconst StyledTableCell = withStyles((theme) => ({\n  head: {\n    backgroundColor: '#cfd8dc',\n    color: '#263238',\n    fontSize: 18,\n  },\n  body: {\n    fontSize: 14,\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.action.hover,\n    },\n  },\n}))(TableRow);\n\nfunction createData(surname, name, country, firstContact, email, sold, owner,asset_type) {\n  return { surname, name, country, firstContact, email, sold, owner,asset_type };\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700,\n  },\n});\n\n/**\n * This client function is exposed and routed from \"/\" in App.js\n * Functions\n * 1.Injects CRMStores where we have the list of \"actions\",\"observers\",\"actions\"\n * 2.It calls React Hooks\n *  a.useState which will set input as the passed state and setInput = function to update the state\n * \n */\n\nconst Clients = inject(\"CRMStores\")(observer((props) => {\n\n  //Sets the relevant clients in the state and then updates the state by calling setRelevantClients\n\n  const [relevantClients, setRelevantClients] = useState([...props.CRMStores?.clients])\n  const [searchAssets, setSearchAssets] = useState([...props.CRMStores?.searchAssets])\n  // const [searchOwners, setSearchOwners] = useState([...props.CRMStores?.searchOwners])\n  // const [owners, setOwners] = useState([...props.CRMStores?.owners])\n  const [asset_type, setAssetType] = useState([...props.CRMStores?.assetType])\n  const [searchParamters, setSearchOwners] = useState([...props.CRMStores?.searchParamters])\n\n  searchParamters\n  const [input, setInput] = useState('')\n  const [selected, setSelected] = useState([]);\n\n  /**\n   * Use effect is called when render is completed and we want to update anything after that\n   */\n\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      await props.CRMStores.getClients()\n      setRelevantClients(props.CRMStores.clients)\n      console.log(relevantClients)\n    }\n    fetchData()\n  }, [])\n\n  /**\n   * We can pass in a function in order to clear things when effect has completed\n   */\n  useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return c.last.toLowerCase().includes(input.toLowerCase())\n    })\n    setRelevantClients(tempList)\n  }, [input.length])\n\n  /**\n   * Filter client list according to selection\n   */\n   useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return searchAssets.includes(c.asset_type)\n    })\n    setRelevantClients(tempList)\n  }, [searchAssets.length])\n\n  useEffect(() => {\n    let tempList = props.CRMStores.clients.filter(c => {\n      return c.last.toLowerCase().includes(input.toLowerCase())\n    })\n    setRelevantClients(tempList)\n  }, [selected.length])\n\n  const handleChange = (event) => {\n    setInput(event.target.value)\n  }\n\n  const rows = relevantClients && relevantClients.map(c => {\n    return (createData(\n      c.last, c.first, c.country_name, c.date, c.email, c.sold, c.owner,c.asset_type))\n  })\n\n  function onSelectOrRemove(selectedList, selectedItem) {\n    console.log(\"Selected item is\",selectedItem);\n    if(selectedList.length == 0)\n    {\n      setRelevantClients(props.CRMStores.clients);\n    }\n    else\n    {\n      let tempList = props.CRMStores.clients.filter(c => {\n        return selectedList.includes(c.asset_type)\n      });\n      setRelevantClients(tempList)\n    }\n    \n  }\n\n  const classes = useStyles();\n  return (\n    <div><Multiselect\n    options={asset_type}\n    isObject={false}\n    value={selected}\n    onSelect={onSelectOrRemove} // Function will trigger on select event\n    onRemove={onSelectOrRemove}\n    // onChange={setSelected}\n      />\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"customized table\">\n          <TableHead>\n            <TableRow>\n              <StyledTableCell align=\"center\">Client Name</StyledTableCell>\n              <StyledTableCell align=\"center\">Client Email</StyledTableCell>\n              <StyledTableCell align=\"center\">Country</StyledTableCell>\n              <StyledTableCell align=\"center\">Asset Type</StyledTableCell>\n              <StyledTableCell align=\"center\">Mediator</StyledTableCell>\n              <StyledTableCell align=\"center\">Owner Company</StyledTableCell>\n              <StyledTableCell align=\"center\">Purchase Date</StyledTableCell>\n              <StyledTableCell align=\"center\">Sold Date</StyledTableCell>\n              {/* <StyledTableCell align=\"center\">Email</StyledTableCell>\n              <StyledTableCell align=\"center\">Email</StyledTableCell> */}\n\n              {/* <StyledTableCell align=\"center\">Sold</StyledTableCell>\n              <StyledTableCell align=\"center\">Owner</StyledTableCell> */}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.length && rows.map((row) => (\n              <StyledTableRow >\n                <StyledTableCell align=\"center\">{row.surname} {row.name}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.email}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.country}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.asset_type}</StyledTableCell>\n                <StyledTableCell align=\"center\">GRIP INVEST</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.owner}</StyledTableCell>\n                <StyledTableCell align=\"center\">{row.firstContact}</StyledTableCell>\n                <StyledTableCell align=\"center\">-</StyledTableCell>\n              </StyledTableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      </div>\n  )\n}))\n\nexport default Clients\n"]},"metadata":{},"sourceType":"module"}